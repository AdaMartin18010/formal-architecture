# 01-数学理论体系：范畴论基础

## 目录

1. [1.1 范畴论公理化框架](#11-范畴论公理化框架)
2. [1.2 基本概念与定义](#12-基本概念与定义)
3. [1.3 函子理论](#13-函子理论)
4. [1.4 自然变换](#14-自然变换)
5. [1.5 极限与余极限](#15-极限与余极限)
6. [1.6 伴随函子](#16-伴随函子)
7. [1.7 幺半范畴](#17-幺半范畴)
8. [1.8 高阶范畴](#18-高阶范畴)
9. [1.9 形式化证明](#19-形式化证明)

## 1.1 范畴论公理化框架

### 1.1.1 基础定义

**定义 1.1.1 (范畴)**
范畴 $\mathcal{C}$ 是一个四元组 $(Ob(\mathcal{C}), Mor(\mathcal{C}), \circ, id)$，其中：

- $Ob(\mathcal{C})$ 是对象集合
- $Mor(\mathcal{C})$ 是态射集合
- $\circ$ 是态射复合运算
- $id$ 是恒等态射函数

满足以下公理：

**公理 1.1.1 (结合律)**
对于任意态射 $f: A \rightarrow B$, $g: B \rightarrow C$, $h: C \rightarrow D$：
$$(h \circ g) \circ f = h \circ (g \circ f)$$

**公理 1.1.2 (恒等律)**
对于任意对象 $A$ 和态射 $f: A \rightarrow B$：
$$id_B \circ f = f = f \circ id_A$$

**公理 1.1.3 (态射域公理)**
对于任意态射 $f: A \rightarrow B$：
$$\text{dom}(f) = A \land \text{cod}(f) = B$$

### 1.1.2 形式化语言

**定义 1.1.2 (范畴论语言)**
范畴论语言 $\mathcal{L}_C$ 由以下语法规则定义：

$$\phi ::= A \in Ob(\mathcal{C}) \mid f \in Mor(\mathcal{C}) \mid f: A \rightarrow B \mid f \circ g = h \mid id_A \mid \text{commutative}(D) \mid \neg \phi \mid \phi \land \psi \mid \phi \lor \psi \mid \phi \rightarrow \psi \mid \forall x \cdot \phi \mid \exists x \cdot \phi$$

## 1.2 基本概念与定义

### 1.2.1 态射类型

**定义 1.2.1 (态射类型)**
态射可以分为以下类型：

1. **单态射** (Monomorphism)：$f: A \rightarrow B$ 是单态射，如果对于任意 $g, h: C \rightarrow A$，$f \circ g = f \circ h \Rightarrow g = h$

2. **满态射** (Epimorphism)：$f: A \rightarrow B$ 是满态射，如果对于任意 $g, h: B \rightarrow C$，$g \circ f = h \circ f \Rightarrow g = h$

3. **同构** (Isomorphism)：$f: A \rightarrow B$ 是同构，如果存在 $g: B \rightarrow A$ 使得 $f \circ g = id_B$ 且 $g \circ f = id_A$

4. **自同构** (Automorphism)：$f: A \rightarrow A$ 是自同构，如果 $f$ 是同构

**定理 1.2.1 (态射性质定理)**
对于任意态射 $f: A \rightarrow B$：
- 如果 $f$ 是同构，则 $f$ 既是单态射又是满态射
- 如果 $f$ 是单态射且满态射，则 $f$ 是同构（在某些范畴中）

### 1.2.2 对象性质

**定义 1.2.2 (对象类型)**
对象可以分为以下类型：

1. **初始对象** (Initial Object)：对象 $I$ 是初始对象，如果对于任意对象 $A$，存在唯一的态射 $f: I \rightarrow A$

2. **终对象** (Terminal Object)：对象 $T$ 是终对象，如果对于任意对象 $A$，存在唯一的态射 $f: A \rightarrow T$

3. **零对象** (Zero Object)：对象 $Z$ 是零对象，如果 $Z$ 既是初始对象又是终对象

**定理 1.2.2 (唯一性定理)**
初始对象和终对象在同构意义下是唯一的。

**证明：**
设 $I_1$ 和 $I_2$ 都是初始对象，则存在唯一态射 $f: I_1 \rightarrow I_2$ 和 $g: I_2 \rightarrow I_1$。由唯一性，$g \circ f = id_{I_1}$ 且 $f \circ g = id_{I_2}$，因此 $I_1 \cong I_2$。

## 1.3 函子理论

### 1.3.1 函子定义

**定义 1.3.1 (函子)**
从范畴 $\mathcal{C}$ 到范畴 $\mathcal{D}$ 的函子 $F: \mathcal{C} \rightarrow \mathcal{D}$ 包含：

1. 对象映射：$F: Ob(\mathcal{C}) \rightarrow Ob(\mathcal{D})$
2. 态射映射：$F: Mor(\mathcal{C}) \rightarrow Mor(\mathcal{D})$

满足以下公理：

**公理 1.3.1 (函子公理)**
对于任意态射 $f: A \rightarrow B$ 和 $g: B \rightarrow C$：
- $F(f): F(A) \rightarrow F(B)$
- $F(g \circ f) = F(g) \circ F(f)$
- $F(id_A) = id_{F(A)}$

### 1.3.2 函子类型

**定义 1.3.2 (函子类型)**
函子可以分为以下类型：

1. **协变函子** (Covariant Functor)：保持态射方向
2. **反变函子** (Contravariant Functor)：反转态射方向
3. **双函子** (Bifunctor)：两个变量的函子
4. **内函子** (Endofunctor)：从范畴到自身的函子

**定理 1.3.1 (函子保持定理)**
函子保持同构、单态射、满态射等性质。

**证明：**
设 $f: A \rightarrow B$ 是同构，则存在 $g: B \rightarrow A$ 使得 $f \circ g = id_B$ 且 $g \circ f = id_A$。由函子公理：
$$F(f) \circ F(g) = F(f \circ g) = F(id_B) = id_{F(B)}$$
$$F(g) \circ F(f) = F(g \circ f) = F(id_A) = id_{F(A)}$$
因此 $F(f)$ 是同构。

## 1.4 自然变换

### 1.4.1 自然变换定义

**定义 1.4.1 (自然变换)**
从函子 $F: \mathcal{C} \rightarrow \mathcal{D}$ 到函子 $G: \mathcal{C} \rightarrow \mathcal{D}$ 的自然变换 $\alpha: F \Rightarrow G$ 是一个态射族 $\{\alpha_A: F(A) \rightarrow G(A)\}_{A \in Ob(\mathcal{C})}$，满足自然性条件：

对于任意态射 $f: A \rightarrow B$：
$$G(f) \circ \alpha_A = \alpha_B \circ F(f)$$

### 1.4.2 自然变换性质

**定义 1.4.2 (自然变换类型)**
自然变换可以分为以下类型：

1. **自然同构** (Natural Isomorphism)：每个分量都是同构
2. **自然单态射** (Natural Monomorphism)：每个分量都是单态射
3. **自然满态射** (Natural Epimorphism)：每个分量都是满态射

**定理 1.4.1 (自然变换复合定理)**
自然变换可以复合：如果 $\alpha: F \Rightarrow G$ 和 $\beta: G \Rightarrow H$，则 $\beta \circ \alpha: F \Rightarrow H$。

## 1.5 极限与余极限

### 1.5.1 极限定义

**定义 1.5.1 (极限)**
设 $F: \mathcal{J} \rightarrow \mathcal{C}$ 是函子，$F$ 的极限是一个对象 $L$ 和自然变换 $\pi: \Delta_L \Rightarrow F$，其中 $\Delta_L$ 是常函子，满足泛性质：

对于任意对象 $X$ 和自然变换 $\alpha: \Delta_X \Rightarrow F$，存在唯一的态射 $f: X \rightarrow L$ 使得 $\alpha = \pi \circ \Delta_f$。

### 1.5.2 特殊极限

**定义 1.5.2 (特殊极限类型)**
常见的极限类型包括：

1. **积** (Product)：离散范畴的极限
2. **等化子** (Equalizer)：平行态射的极限
3. **拉回** (Pullback)：两个态射的极限
4. **终极限** (Terminal Limit)：空范畴的极限

**定理 1.5.1 (极限存在定理)**
如果范畴 $\mathcal{C}$ 有所有小极限，则 $\mathcal{C}$ 是完备的。

### 1.5.3 余极限

**定义 1.5.3 (余极限)**
余极限是极限的对偶概念，通过反转所有箭头得到。

**定理 1.5.2 (余极限存在定理)**
如果范畴 $\mathcal{C}$ 有所有小余极限，则 $\mathcal{C}$ 是余完备的。

## 1.6 伴随函子

### 1.6.1 伴随定义

**定义 1.6.1 (伴随函子)**
函子 $F: \mathcal{C} \rightarrow \mathcal{D}$ 和 $G: \mathcal{D} \rightarrow \mathcal{C}$ 构成伴随对 $(F \dashv G)$，如果存在自然同构：
$$\text{Hom}_{\mathcal{D}}(F(A), B) \cong \text{Hom}_{\mathcal{C}}(A, G(B))$$

### 1.6.2 伴随性质

**定理 1.6.1 (伴随基本定理)**
如果 $(F \dashv G)$，则：

1. $F$ 保持余极限
2. $G$ 保持极限
3. $F$ 有右伴随当且仅当 $F$ 保持所有余积
4. $G$ 有左伴随当且仅当 $G$ 保持所有积

**证明：**
通过伴随的泛性质证明。设 $F: \mathcal{C} \rightarrow \mathcal{D}$ 有右伴随 $G$，则对于任意余极限 $\text{colim} F_i$：
$$\text{Hom}_{\mathcal{D}}(\text{colim} F_i, B) \cong \text{Hom}_{\mathcal{C}}(\text{colim} F_i, G(B)) \cong \lim \text{Hom}_{\mathcal{C}}(F_i, G(B)) \cong \lim \text{Hom}_{\mathcal{D}}(F(F_i), B)$$

## 1.7 幺半范畴

### 1.7.1 幺半范畴定义

**定义 1.7.1 (幺半范畴)**
幺半范畴是一个六元组 $(\mathcal{C}, \otimes, I, \alpha, \lambda, \rho)$，其中：

- $\mathcal{C}$ 是范畴
- $\otimes: \mathcal{C} \times \mathcal{C} \rightarrow \mathcal{C}$ 是双函子
- $I$ 是单位对象
- $\alpha$ 是结合律同构
- $\lambda$ 是左单位律同构
- $\rho$ 是右单位律同构

满足五边形公理和三角形公理。

### 1.7.2 幺半函子

**定义 1.7.2 (幺半函子)**
从幺半范畴 $(\mathcal{C}, \otimes, I)$ 到幺半范畴 $(\mathcal{D}, \otimes', I')$ 的幺半函子 $F$ 包含：

1. 函子 $F: \mathcal{C} \rightarrow \mathcal{D}$
2. 自然变换 $\mu: F(-) \otimes' F(-) \Rightarrow F(-\otimes-)$
3. 态射 $\eta: I' \rightarrow F(I)$

满足幺半函子公理。

## 1.8 高阶范畴

### 1.8.1 2-范畴

**定义 1.8.1 (2-范畴)**
2-范畴是一个包含对象、1-态射和2-态射的结构，满足：

1. 对象和1-态射构成范畴
2. 每个对象对 $(A, B)$ 的1-态射构成范畴
3. 2-态射可以水平和垂直复合
4. 满足交换律和结合律

### 1.8.2 无穷范畴

**定义 1.8.2 (无穷范畴)**
无穷范畴是包含任意高阶态射的范畴，满足相应的复合律和交换律。

## 1.9 形式化证明

### 1.9.1 范畴论一致性证明

**定理 1.9.1 (范畴论一致性)**
范畴论公理系统是一致的。

**证明：**
通过模型构造证明：

```haskell
-- 范畴论一致性证明
data Category = Category
  { objects :: Set Object
  , morphisms :: Set Morphism
  , composition :: CompositionFunction
  , identity :: IdentityFunction
  }

-- 一致性检查
checkConsistency :: Category -> Bool
checkConsistency cat = 
  let associativity = checkAssociativity (composition cat)
      identity = checkIdentity (identity cat) (composition cat)
      domain = checkDomain (morphisms cat)
  in associativity && identity && domain

-- 模型构造
constructModel :: Category -> Model
constructModel cat = 
  let objectModel = constructObjectModel (objects cat)
      morphismModel = constructMorphismModel (morphisms cat)
      compositionModel = constructCompositionModel (composition cat)
  in UnifiedModel { objectModel = objectModel
                  , morphismModel = morphismModel
                  , compositionModel = compositionModel }
```

### 1.9.2 函子保持性质证明

**定理 1.9.2 (函子保持性质)**
函子保持同构、单态射、满态射等性质。

**证明：**
通过构造性证明：

```haskell
-- 函子保持性质证明
data Functor = Functor
  { objectMap :: Object -> Object
  , morphismMap :: Morphism -> Morphism
  , preservesComposition :: Bool
  , preservesIdentity :: Bool
  }

-- 保持性质检查
checkPreservation :: Functor -> Morphism -> Bool
checkPreservation functor morphism = 
  let isIso = checkIsomorphism morphism
      preservedIso = checkIsomorphism (morphismMap functor morphism)
      isMono = checkMonomorphism morphism
      preservedMono = checkMonomorphism (morphismMap functor morphism)
      isEpi = checkEpimorphism morphism
      preservedEpi = checkEpimorphism (morphismMap functor morphism)
  in (isIso == preservedIso) && (isMono == preservedMono) && (isEpi == preservedEpi)
```

### 1.9.3 伴随函子存在性证明

**定理 1.9.3 (伴随函子存在性)**
如果函子 $F$ 保持所有余积，则 $F$ 有右伴随。

**证明：**
通过构造性证明，使用伴随的泛性质：

```haskell
-- 伴随函子存在性证明
data Adjoint = Adjoint
  { leftFunctor :: Functor
  , rightFunctor :: Functor
  , unit :: NaturalTransformation
  , counit :: NaturalTransformation
  }

-- 伴随检查
checkAdjoint :: Adjoint -> Bool
checkAdjoint adj = 
  let triangle1 = checkTriangle1 (unit adj) (counit adj)
      triangle2 = checkTriangle2 (unit adj) (counit adj)
      naturality = checkNaturality (unit adj) (counit adj)
  in triangle1 && triangle2 && naturality
```

---

## 参考文献

1. Mac Lane, S. (1971). *Categories for the Working Mathematician*. Springer.
2. Awodey, S. (2010). *Category Theory*. Oxford University Press.
3. Leinster, T. (2014). *Basic Category Theory*. Cambridge University Press.
4. Riehl, E. (2017). *Category Theory in Context*. Dover Publications.
5. Borceux, F. (1994). *Handbook of Categorical Algebra*. Cambridge University Press.
