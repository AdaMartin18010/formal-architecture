# 形式语言 · 典型方法

## 3.1 DFA 最小化（Hopcroft 算法概览）

- 目标：得到与给定 DFA 等价的最少状态 DFA。
- 思路：以可区分状态划分为核心，反复细化分区直至稳定。
- 步骤要点：
  1) 初始分区 P = {F, Q\F}，工作集 W = {F}；
  2) 取出分区 A∈W，对每个字符 a，将能在 a 上转入 A 的状态集按交/差拆分对应分区；
  3) 用较小的子集更新 W；
  4) 无可再细分时，按分区折叠为新状态。
- 复杂度：O(|Σ|·|Q|·log|Q|)。

## 3.2 CYK 算法（CFG 判定，CNF 形）

- 前提：文法 G 转换为 Chomsky 正规范式（CNF）。
- DP 表：T[i,j] 为能推出子串 w[i..j] 的非终结符集合。
- 转移：
  - 长度 1：若 A→a 且 w[i]=a，则 A∈T[i,i]；
  - 长度 >1：若 A→BC，存在 k 使 B∈T[i,k] 且 C∈T[k+1,j]，则 A∈T[i,j]。
- 判定：S∈T[1,n] 则 w∈L(G)。
- 复杂度：O(n^3·|G|)。

## 3.3 Pumping Lemma（正则语言）与示例

- 引理：若 L 为正则语言，则存在 p，使任意 |s|≥p 的 s∈L 可分解为 s=xyz，满足 |xy|≤p，|y|>0，且对任意 i≥0 有 xy^i z ∈ L。
- 用途：证明某语言非正则，采用反证法。
- 示例：语言 L={ a^n b^n | n≥0 } 非正则。
  - 反设 L 正则，取抽水长度 p，令 s=a^p b^p。
  - 分解 s=xyz 且 |xy|≤p⇒x,y 仅含 a，且 |y|>0。
  - 取 i=0 得 xz=a^{p-|y|} b^p，不在 L（a 与 b 数量不等）。
  - 矛盾，故 L 非正则。

## 3.4 正则语言闭包性质（构造性证明）

- 并集：若 L1,L2 为正则，构造 NFA 以新初态 ε 到两机初态；等价地作 DFA 的积自动机并标记 F1×Q2 ∪ Q1×F2。
- 连接：对 NFA，令 L1 的终态到 L2 初态加 ε 边；DFA 可经标准 NFA 化后同理处理。
- Kleene 星：对 NFA，在终态回接 ε 到初态，并将初态标为接受态。
- 交集：对 DFA 取积自动机，接受集为 F1×F2。
- 补集：对完备 DFA 将接受与非接受互换（需确保对所有符号均有出边）。
- 同态与逆同态：映射符号并按映射扩展迁移，逆同态通过构造等价 NFA 实现。

## 3.5 CFG 等价性与不可判定性（简述）

- 问题：给定两上下文无关文法 G1,G2，判定 L(G1)=L(G2) 否？
- 结论：一般情形不可判定（可由 Post 对应问题/图灵机停机问题归约）。
- 相关：CFG 的包含性与等价性均不可判定；而对正则语言，这些性质可由自动机构造判定。

## 3.6 判定性与常见归约套路（概览）

- 可判定：DFA 等价/包含、正则闭包、DFA 空/有限；CFG 成员（CYK）、空/有限/无限。
- 半判定：递归可枚举语言成员判定（TM 接受时停机）。
- 不可判定：TM 停机、CFG 等价/包含、正则表达式等价（带反向引用等扩展）。
- 归约套路：
  - 从停机或 PCP 归约到目标问题；构造编码使“停机/可导出”对应“可接受/等价”。
  - 封闭性对比：若目标问题可判定，但归约来源不可判定 ⇒ 矛盾。
