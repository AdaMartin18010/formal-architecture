# 02-自动机理论

## 目录

1. [1.0 有限自动机理论](#10-有限自动机理论)
2. [2.0 下推自动机理论](#20-下推自动机理论)
3. [3.0 图灵机理论](#30-图灵机理论)
4. [4.0 自动机等价性](#40-自动机等价性)
5. [5.0 自动机最小化](#50-自动机最小化)
6. [6.0 自动机应用](#60-自动机应用)

## 1.0 有限自动机理论

### 1.1 确定性有限自动机

**定义 1.1.1 (确定性有限自动机)**
确定性有限自动机(DFA)是一个五元组 $M = (Q, \Sigma, \delta, q_0, F)$，其中：

- $Q$ 是有限状态集合
- $\Sigma$ 是输入字母表
- $\delta: Q \times \Sigma \to Q$ 是转移函数
- $q_0 \in Q$ 是初始状态
- $F \subseteq Q$ 是接受状态集合

**定义 1.1.2 (扩展转移函数)**
扩展转移函数 $\delta^*: Q \times \Sigma^* \to Q$ 定义为：

$$\delta^*(q, \varepsilon) = q$$
$$\delta^*(q, wa) = \delta(\delta^*(q, w), a)$$

**定义 1.1.3 (接受语言)**
DFA $M$ 接受的语言定义为：
$$L(M) = \{w \in \Sigma^* \mid \delta^*(q_0, w) \in F\}$$

**定理 1.1.1 (DFA等价性)**
两个DFA $M_1, M_2$ 等价当且仅当 $L(M_1) = L(M_2)$。

### 1.2 非确定性有限自动机

**定义 1.2.1 (非确定性有限自动机)**
非确定性有限自动机(NFA)是一个五元组 $M = (Q, \Sigma, \delta, q_0, F)$，其中：

- $Q$ 是有限状态集合
- $\Sigma$ 是输入字母表
- $\delta: Q \times \Sigma \to 2^Q$ 是转移函数
- $q_0 \in Q$ 是初始状态
- $F \subseteq Q$ 是接受状态集合

**定义 1.2.2 (NFA扩展转移函数)**
NFA的扩展转移函数 $\delta^*: Q \times \Sigma^* \to 2^Q$ 定义为：

$$\delta^*(q, \varepsilon) = \{q\}$$
$$\delta^*(q, wa) = \bigcup_{p \in \delta^*(q, w)} \delta(p, a)$$

**定理 1.2.1 (NFA与DFA等价性)**
对于任意NFA $M$，存在DFA $M'$ 使得 $L(M) = L(M')$。

## 2.0 下推自动机理论

### 2.1 下推自动机定义

**定义 2.1.1 (下推自动机)**
下推自动机(PDA)是一个七元组 $M = (Q, \Sigma, \Gamma, \delta, q_0, Z_0, F)$，其中：

- $Q$ 是有限状态集合
- $\Sigma$ 是输入字母表
- $\Gamma$ 是栈字母表
- $\delta: Q \times (\Sigma \cup \{\varepsilon\}) \times \Gamma \to 2^{Q \times \Gamma^*}$ 是转移函数
- $q_0 \in Q$ 是初始状态
- $Z_0 \in \Gamma$ 是初始栈符号
- $F \subseteq Q$ 是接受状态集合

**定义 2.1.2 (PDA配置)**
PDA配置是一个三元组 $(q, w, \gamma)$，其中：

- $q \in Q$ 是当前状态
- $w \in \Sigma^*$ 是剩余输入
- $\gamma \in \Gamma^*$ 是栈内容

**定义 2.1.3 (PDA转移关系)**
PDA转移关系 $\vdash$ 定义为：
$$(q, aw, A\gamma) \vdash (p, w, \beta\gamma) \text{ if } (p, \beta) \in \delta(q, a, A)$$

**定理 2.1.1 (PDA语言类)**
PDA接受的语言类恰好是上下文无关语言。

### 2.2 确定性下推自动机

**定义 2.2.1 (确定性PDA)**
PDA $M$ 是确定性的，如果对于任意 $(q, a, A)$，$|\delta(q, a, A)| \leq 1$ 且 $|\delta(q, \varepsilon, A)| = 0$。

**定理 2.2.1 (确定性PDA限制)**
确定性PDA接受的语言类是上下文无关语言的真子集。

## 3.0 图灵机理论

### 3.1 图灵机定义

**定义 3.1.1 (图灵机)**
图灵机是一个七元组 $M = (Q, \Sigma, \Gamma, \delta, q_0, B, F)$，其中：

- $Q$ 是有限状态集合
- $\Sigma$ 是输入字母表
- $\Gamma$ 是磁带字母表，$\Sigma \subseteq \Gamma$
- $\delta: Q \times \Gamma \to Q \times \Gamma \times \{L, R\}$ 是转移函数
- $q_0 \in Q$ 是初始状态
- $B \in \Gamma - \Sigma$ 是空白符号
- $F \subseteq Q$ 是接受状态集合

**定义 3.1.2 (图灵机配置)**
图灵机配置是一个三元组 $(q, \alpha, i)$，其中：

- $q \in Q$ 是当前状态
- $\alpha \in \Gamma^*$ 是磁带内容
- $i \in \mathbb{N}$ 是读写头位置

**定义 3.1.3 (图灵机转移)**
图灵机转移关系 $\vdash$ 定义为：
$$(q, \alpha A \beta, i) \vdash (p, \alpha B \beta, i+1) \text{ if } \delta(q, A) = (p, B, R)$$
$$(q, \alpha A \beta, i) \vdash (p, \alpha B \beta, i-1) \text{ if } \delta(q, A) = (p, B, L)$$

**定理 3.1.1 (图灵机通用性)**
图灵机是计算能力的上界，任何可计算函数都可以由图灵机计算。

### 3.2 图灵机变种

**定义 3.2.1 (多带图灵机)**
多带图灵机是一个八元组 $M = (Q, \Sigma, \Gamma, k, \delta, q_0, B, F)$，其中：

- $k$ 是磁带数量
- $\delta: Q \times \Gamma^k \to Q \times \Gamma^k \times \{L, R\}^k$ 是转移函数

**定理 3.2.1 (多带图灵机等价性)**
多带图灵机与单带图灵机在计算能力上等价。

**定义 3.2.2 (非确定性图灵机)**
非确定性图灵机的转移函数定义为：
$$\delta: Q \times \Gamma \to 2^{Q \times \Gamma \times \{L, R\}}$$

**定理 3.2.2 (非确定性图灵机等价性)**
非确定性图灵机与确定性图灵机在计算能力上等价。

## 4.0 自动机等价性

### 4.1 等价性判定

**定义 4.1.1 (自动机等价性)**
两个自动机 $M_1, M_2$ 等价，记为 $M_1 \equiv M_2$，当且仅当 $L(M_1) = L(M_2)$。

**定理 4.1.1 (DFA等价性判定)**
对于两个DFA $M_1, M_2$，可以在多项式时间内判定 $M_1 \equiv M_2$。

**证明**：
构造DFA $M = M_1 \times M_2$，检查是否存在可达状态 $(q_1, q_2)$ 使得 $q_1 \in F_1$ 但 $q_2 \notin F_2$ 或反之。

**定义 4.1.2 (自动机包含关系)**
自动机 $M_1$ 包含 $M_2$，记为 $M_1 \supseteq M_2$，当且仅当 $L(M_1) \supseteq L(M_2)$。

### 4.2 语言类层次

**定理 4.2.1 (语言类包含关系)**
正则语言 $\subset$ 上下文无关语言 $\subset$ 上下文相关语言 $\subset$ 递归可枚举语言

**证明**：
1. 正则语言 $\subset$ 上下文无关语言：$\{a^n b^n \mid n \geq 0\}$ 是上下文无关但不是正则的
2. 上下文无关语言 $\subset$ 上下文相关语言：$\{a^n b^n c^n \mid n \geq 0\}$ 是上下文相关但不是上下文无关的
3. 上下文相关语言 $\subset$ 递归可枚举语言：停机问题的语言是递归可枚举但不是递归的

## 5.0 自动机最小化

### 5.1 DFA最小化

**定义 5.1.1 (状态等价性)**
DFA中两个状态 $q_1, q_2$ 等价，记为 $q_1 \equiv q_2$，当且仅当：
$$\forall w \in \Sigma^*, \quad \delta^*(q_1, w) \in F \Leftrightarrow \delta^*(q_2, w) \in F$$

**算法 5.1.1 (DFA最小化算法)**
1. 初始化：将所有状态分为两组，接受状态和非接受状态
2. 迭代：对于每个组，检查是否可以根据某个输入符号进一步分割
3. 终止：当无法进一步分割时，每个组代表一个等价类
4. 构造最小DFA：每个等价类作为一个状态

**定理 5.1.1 (最小DFA唯一性)**
对于任意DFA，其最小化DFA在同构意义下是唯一的。

### 5.2 状态最小化

**定义 5.2.1 (状态最小化)**
DFA $M$ 的状态最小化是构造一个等价的最小状态DFA $M'$。

**定理 5.2.1 (最小化复杂度)**
DFA最小化的时间复杂度为 $O(n^2)$，其中 $n$ 是状态数。

## 6.0 自动机应用

### 6.1 编译器应用

**定义 6.1.1 (词法分析器)**
词法分析器是一个DFA，用于识别编程语言的词法单元。

**定义 6.1.2 (语法分析器)**
语法分析器可以使用PDA实现，用于解析上下文无关文法。

**定理 6.1.1 (编译器正确性)**
如果词法分析器和语法分析器都正确实现，则编译器能够正确识别程序结构。

### 6.2 软件验证应用

**定义 6.2.1 (模型检查)**
模型检查使用自动机表示系统行为，验证系统是否满足规范。

**定义 6.2.2 (性质验证)**
性质验证将系统模型和性质都表示为自动机，通过自动机交集检查性质满足性。

**定理 6.2.1 (验证完备性)**
对于有限状态系统，模型检查能够完全验证线性时态逻辑性质。

### 6.3 网络安全应用

**定义 6.3.1 (入侵检测)**
入侵检测系统使用自动机模式匹配识别恶意行为。

**定义 6.3.2 (协议验证)**
协议验证使用自动机建模协议行为，检查协议安全性。

**定理 6.3.1 (检测准确性)**
基于自动机的入侵检测系统能够准确识别已知攻击模式。

## 总结

本自动机理论建立了完整的自动机形式化框架，包括：

1. **基础理论**：有限自动机、下推自动机、图灵机
2. **等价性理论**：自动机等价性判定、语言类层次
3. **优化理论**：自动机最小化、状态优化
4. **应用理论**：编译器应用、软件验证、网络安全

该理论为计算机科学的基础理论提供了坚实的数学基础，广泛应用于编译器设计、软件验证、网络安全等领域。

---

**相关链接**：
- [形式语言基础](../01-形式语言基础.md)
- [计算理论](../03-计算理论.md)
- [复杂性理论](../04-复杂性理论.md)
