# 形式语言 · 核心概念

## 2.1 定义

- 字母表 Σ、字串 Σ*、语言 L⊆Σ*。
- 自动机：DFA=(Q,Σ,δ,q0,F)；NFA=(Q,Σ,Δ,q0,F) 其中 Δ: Q×(Σ∪{ε})→P(Q)。
- 文法：G=(V,Σ,R,S)。

## 2.2 Chomsky 分层要点

- 0 型（递归可枚举）：图灵机可识别；最一般。
- 1 型（上下文相关）：线性有界自动机；产生式 αAβ→αγβ，|γ|≥1。
- 2 型（上下文无关）：下推自动机 PDA；产生式 A→γ。
- 3 型（正则）：有限自动机 DFA/NFA；产生式 A→aB 或 A→a/ε。
- 严格包含：正则 ⊊ 上下文无关 ⊊ 上下文相关 ⊊ 递归可枚举。

## 2.3 证明：NFA→DFA 子集构造正确性

- 命题：对子集构造得到的 DFA M'，有 L(M')=L(M)（M 为原 NFA）。
- 子集构造：
  - 状态集 Q' = P(Q)；初态 q0' = ε-closure({q0})；
  - 迁移 δ'(S,a) = ε-closure(⋃_{q∈S} Δ(q,a))；
  - 接受集 F' = { S⊆Q | S∩F≠∅ }。
- 证明思路：对输入 w 做归纳，证明不变式：读入前缀 x 后，DFA 所在的状态集合恰为 NFA 从初态读入 x 后所有可达状态的 ε-闭包。
  - 基：x=ε，成立：q0' = ε-closure({q0})。
  - 归纳步：若对 x 成立，则对 xa 成立：
    - DFA：δ'(S,a) = ε-closure(⋃_{q∈S} Δ(q,a))；
    - NFA：从 ε-closure(Reach(x)) 经 a 前进并取 ε-闭包，等价于上式。
- 接受性等价：存在前缀 w 使得 NFA 可达某 q∈F，当且仅当 DFA 的状态集合与 F 交。
- 因此 L(M')=L(M)。证毕。
