# 预测准确性评估

[返回总论](./00-理论验证框架总论.md) | [返回增强总论](../00-理论增强与完善总论.md)

> **重要声明**：
>
> - **项目定位**：本项目为"知识梳理与理论构建项目（非编程项目）"，专注于形式化架构理论体系的整理、构建和统一。
> - **文档目标**：本文档提供预测准确性评估的详细方法，包括预测对比、准确性度量、置信区间计算。

## 目录

- [预测准确性评估](#预测准确性评估)
  - [1. 评估概述](#1-评估概述)
  - [2. 预测类型与格式](#2-预测类型与格式)
  - [3. 准确性度量方法](#3-准确性度量方法)
  - [4. 置信区间计算](#4-置信区间计算)
  - [5. 评估报告模板](#5-评估报告模板)
  - [2025 对齐](#2025-对齐)

## 1. 评估概述

### 1.1 评估目标

- **理论预测 vs 实际结果**：系统对比理论预测与实际观测
- **准确性度量**：量化预测与实际的偏差
- **置信区间**：评估预测的统计可靠性

### 1.2 核心问题

批判性评价指出：大量量化指标（如"10x加速"、"92%准确率"）缺乏可验证来源。本评估机制旨在建立可追溯的预测-验证链条。

## 2. 预测类型与格式

### 2.1 预测类型

| 类型 | 描述 | 示例 |
|------|------|------|
| **定量预测** | 具体数值预测 | "开发时间减少50%" |
| **定性预测** | 性质预测 | "MSMFIT适用于业务系统" |
| **关系预测** | 关系预测 | "语义保真度与代码质量正相关" |

### 2.2 预测格式规范

```markdown
**预测P1**：在CRUD类业务系统中，使用SMDD可将开发时间减少50%以上

**预测条件**：
- 系统类型：CRUD类业务系统
- 团队规模：5-10人
- 项目周期：3-6个月

**预测值**：50%（开发时间减少）

**置信度**：95%

**验证方法**：对照实验
```

### 2.3 预测-实际对比表示例

| 预测指标 | 理论预测 | 实际结果 | 准确性 | 置信区间 |
|---------|---------|---------|--------|---------|
| 开发时间减少 | 50% | 45% | 90% | [40%, 50%] |
| 维护成本降低 | 40% | 35% | 87.5% | [30%, 40%] |
| 代码冗余降低 | 60% | 55% | 91.7% | [50%, 60%] |

## 3. 准确性度量方法

### 3.1 定量预测准确性公式

$$\text{Accuracy} = 1 - \frac{|\text{Predicted} - \text{Actual}|}{\text{Predicted}}$$

**说明**：当实际值等于预测值时，准确性为100%；偏差越大，准确性越低。

### 3.2 计算示例

**示例1**：

- 预测：开发时间减少50%
- 实际：开发时间减少45%
- 准确性：$\text{Accuracy} = 1 - \frac{|50\% - 45\%|}{50\%} = 1 - 0.1 = 90\%$

**示例2**：

- 预测：维护成本降低40%
- 实际：维护成本降低35%
- 准确性：$\text{Accuracy} = 1 - \frac{|40\% - 35\%|}{40\%} = 1 - 0.125 = 87.5\%$

### 3.3 平均绝对百分比误差（MAPE）

当有多个预测指标时，可使用MAPE：

$$\text{MAPE} = \frac{1}{n} \sum_{i=1}^{n} \left|\frac{\text{Predicted}_i - \text{Actual}_i}{\text{Predicted}_i}\right| \times 100\%$$

**综合准确性**：$\text{Accuracy} = 1 - \frac{\text{MAPE}}{100\%}$

### 3.4 定性预测评估

定性预测采用二元或等级评估：

- **完全符合**：实际与预测一致
- **部分符合**：实际部分支持预测
- **不符合**：实际与预测矛盾

## 4. 置信区间计算

### 4.1 置信水平

- **90%置信区间**：$\alpha = 0.10$
- **95%置信区间**：$\alpha = 0.05$（最常用）
- **99%置信区间**：$\alpha = 0.01$

### 4.2 t分布置信区间公式

$$\text{CI} = \bar{x} \pm t_{\alpha/2} \times \frac{s}{\sqrt{n}}$$

其中：

- $\bar{x}$：样本均值
- $s$：样本标准差
- $n$：样本数量
- $t_{\alpha/2}$：t分布临界值（自由度 $n-1$）

### 4.3 置信区间解读

**正确解读**：

- "我们有95%的信心认为，真实的开发时间减少在40%到50%之间"
- 若理论预测50%落在区间内，则预测合理

**错误解读**：

- "真实值有95%的概率在区间内"（贝叶斯误解）
- 置信区间是对估计方法的陈述，而非对单次实验结果的概率

### 4.4 与证伪的关系

- 若95%置信区间**不包含**理论预测值，则需考虑理论修正
- 若置信区间**包含**理论预测值，则当前证据支持理论

## 5. 评估报告模板

### 5.1 报告结构

1. **预测摘要**：预测内容、条件、预测值
2. **实际结果**：数据来源、实际值、样本量
3. **对比分析**：预测 vs 实际、准确性、置信区间
4. **结论**：评估结论、改进建议、后续验证计划

### 5.2 数据收集清单

- [ ] 开发时间数据（传统方法 vs SMDD）
- [ ] 代码生成率数据
- [ ] 代码质量数据（缺陷率、测试覆盖率）
- [ ] 维护成本数据
- [ ] 业务变更响应时间数据

### 5.3 与实施指南的关联

详细实施步骤见 [00-验证实施指南](./00-验证实施指南.md) 第2节。

## 2025 对齐

- **国际 Wiki**：[Wikipedia: Confidence interval](https://en.wikipedia.org/wiki/Confidence_interval)
- **名校课程**：[MIT 6.042J: Mathematics for Computer Science](https://ocw.mit.edu/courses/6-042j-mathematics-for-computer-science-spring-2015/)（统计推断）
- **代表性论文**：[Predictive Accuracy Assessment in Software Engineering](https://ieeexplore.ieee.org/document/10345717) (2025)

---

**文档版本**：v1.0
**最后更新**：2025-02-03
**维护状态**：✅ 持续更新中
